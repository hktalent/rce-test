<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

	<!-- Hide from Windows->Show View -->
	<extension point="org.eclipse.ui.activities">  
	  <activity id="de.rcenvironment.core.gui.workflow.activity.suppress.timeline" name="Suppress timeline view">
	  </activity>
	  <activityPatternBinding
	     activityId="de.rcenvironment.core.gui.workflow.activity.suppress.timeline"
	     isEqualityPattern="true"
	     pattern="de.rcenvironment.core.gui.workflow/de.rcenvironment.gui.Timeline">
	  </activityPatternBinding>
	 </extension>
 
	<!--  Workflow Editor -->
	<extension point="org.eclipse.ui.editors">
		<editor class="de.rcenvironment.core.gui.workflow.editor.WorkflowEditor"
            contributorClass="de.rcenvironment.core.gui.workflow.editor.WorkflowEditorActionBarContributor"
			default="true" 
			filenames="*.wf" 
			icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/workflow16.gif"
			id="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor" 
			name="Workflow Editor">
		</editor>
  <editor
        class="de.rcenvironment.core.gui.workflow.view.ReadOnlyWorkflowRunEditor"
        default="false"
        filenames="*.wfr"
        icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/workflow16.gif"
        id="de.rcenvironment.core.gui.workflow.editor.WorkflowRunEditor"
        name="Workflow Viewer">
  </editor>
	</extension>
	
	<!--  Preference Page -->
	<extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="de.rcenvironment.core.gui.workflow.UpateWorkflowFileAutomaticallyPreferencesPage"
            id="de.rcenvironment.core.gui.workflow.UpateWorkflowFileAutomaticallyPreferencesPage"
            name="Workflows"
            category="de.rcenvironment.core">
      </page>
   </extension>

	<!--  New Workflow Dialog -->
	<!--
	<extension point="org.eclipse.ui.newWizards">
		<wizard id="de.rcenvironment.core.gui.workflow.wizard" name="Workflow"
			category="de.rcenvironment.core" icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/workflow16.gif"
			class="de.rcenvironment.core.gui.workflow.editor.NewWorkflowWizard">
			<description>
				Creates a new Workflow file
            </description>
			<selection class="org.eclipse.core.resources.IResource" />
		</wizard>
	</extension>
	<extension point="org.eclipse.ui.newWizards">
		<wizard id="de.rcenvironment.core.gui.workflowproject.wizard" name="Workflow"
			category="de.rcenvironment.core" icon="resources/icons/newWorkflow16.png"
			class="de.rcenvironment.core.gui.workflow.editor.NewWorkflowProjectWizard">
			<description>
				Creates a new Workflow file
            </description>
			<selection class="org.eclipse.core.resources.IResource" />
		</wizard>
	</extension>
	-->
	<extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="de.rcenvironment.core">
         <newWizardShortcut
            id="de.rcenvironment.core.gui.workflowproject.wizard">
         </newWizardShortcut>
      </perspectiveExtension>
   </extension>

	<!--  New Workflow Dialog Context Menu -->
	<extension point="org.eclipse.ui.navigator.navigatorContent">
		<commonWizard type="new"
			wizardId="de.rcenvironment.core.gui.workflow.wizard" menuGroupId="de.rcenvironment.core">
			<enablement>
				<or>
					<adapt type="org.eclipse.core.resources.IFolder" />
					<adapt type="org.eclipse.core.resources.IProject" />
					<adapt type="org.eclipse.core.resources.IWorkspaceRoot" />
				</or>
			</enablement>
		</commonWizard>
	</extension>
	<extension point="org.eclipse.ui.navigator.navigatorContent">
		<commonWizard type="new"
			wizardId="de.rcenvironment.core.gui.workflowproject.wizard" menuGroupId="de.rcenvironment.core">
			<enablement>
				<or>
					<adapt type="org.eclipse.core.resources.IFolder" />
					<adapt type="org.eclipse.core.resources.IProject" />
					<adapt type="org.eclipse.core.resources.IWorkspaceRoot" />
				</or>
			</enablement>
		</commonWizard>
	</extension>
	
	<!-- Tabbed Properties in Workflow Editor -->
	<extension point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
      <propertyContributor 
      		contributorId="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor"
            labelProvider="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowLabelProvider">
         <propertyCategory category="default"/>
         <propertyCategory category="history"/>
         <propertyCategory category="advanced"/>
         <propertyCategory category="connections"/>
      </propertyContributor>
      <propertyContributor 
      		contributorId="de.rcenvironment.core.gui.workflow.editor.WorkflowRunEditor"
            labelProvider="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowLabelProvider">
         <propertyCategory category="default"/>
         <propertyCategory category="advanced"/>
      </propertyContributor>
    </extension>
             
   <extension
         point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
      <propertyTabs
            contributorId="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
         <propertyTab
               label="%advanced"
               category="advanced"
               id="workflow.editor.tab.Advanced">
         </propertyTab>
         <propertyTab
               label="Connections"
               category="connections"
               id="workflow.editor.tab.connections">
         </propertyTab>
         <propertyTab
               label="Settings"
               category="advanced"
               id="workflow.editor.tab.label">
         </propertyTab>
      </propertyTabs>
      <propertyTabs
            contributorId="de.rcenvironment.core.gui.workflow.editor.WorkflowRunEditor">
         <propertyTab
               label="%inputs"
               category="default"
               id="workflow.editor.run.tab.Inputs"
               >
         </propertyTab>
         <propertyTab
               label="%general"
               category="default"
               id="workflow.editor.run.tab.General"
               afterTab="workflow.editor.run.tab.Inputs">
         </propertyTab>
         <propertyTab
               label="%inputs"
               category="default"
               id="workflow.editor.run.tab.ComponentInputs">
         </propertyTab>
         <propertyTab
               label="%general"
               category="default"
               id="workflow.editor.run.tab.ComponentGeneral"
               afterTab="workflow.editor.run.tab.ComponentInputs">
         </propertyTab>
      </propertyTabs>
   </extension>
   
   <extension
         point="org.eclipse.ui.views.properties.tabbed.propertySections">
      <propertySections
            contributorId="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
         <propertySection
               class="de.rcenvironment.core.gui.workflow.editor.connections.ConnectionsSection"
               enablesFor="1"
               filter="de.rcenvironment.core.gui.workflow.editor.connections.ConnectionsFilter"
               id="workflow.editor.tab.connections.Section"
               tab="workflow.editor.tab.connections">
         </propertySection>
         <propertySection
               tab="workflow.editor.tab.Advanced"
               class="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowNodePropertiesSection"
               id="workflow.editor.tab.Advanced.Section"
               filter="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowNodeSelectedFilter"
               enablesFor="1">
         </propertySection>
            <propertySection
               tab="workflow.editor.tab.label"
               class="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowLabelPropertySection"
               id="workflow.editor.tab.label"
               filter="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowLabelSelectedFilter"
               enablesFor="1">
         </propertySection>
      </propertySections>
      <propertySections
            contributorId="de.rcenvironment.core.gui.workflow.editor.WorkflowRunEditor">
         <propertySection
               tab="workflow.editor.run.tab.Inputs"
               class="de.rcenvironment.core.gui.workflow.view.properties.InputSection"
               id="workflow.editor.run.tab.Inputs.Section"
               filter="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowSelectedFilter"
               enablesFor="1">
         </propertySection>
         <propertySection
               tab="workflow.editor.run.tab.ComponentInputs"
               class="de.rcenvironment.core.gui.workflow.view.properties.ComponentInputSection"
               id="workflow.editor.run.tab.ComponentInputs.Section"
               filter="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowNodeSelectedFilter"
               enablesFor="1">
         </propertySection>
         <propertySection
               tab="workflow.editor.run.tab.General"
               class="org.eclipse.ui.views.properties.tabbed.AdvancedPropertySection"
               id="workflow.editor.tab.General.Section"
               filter="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowSelectedFilter"
               enablesFor="1">
         </propertySection>
         <propertySection
               tab="workflow.editor.run.tab.ComponentGeneral"
               class="org.eclipse.ui.views.properties.tabbed.AdvancedPropertySection"
               id="workflow.editor.tab.General.Section"
               filter="de.rcenvironment.core.gui.workflow.editor.properties.WorkflowNodeSelectedFilter"
               enablesFor="1">
         </propertySection>
      </propertySections>
   </extension>
   
	<!-- Properties View part of Default Perspective -->
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="de.rcenvironment.core">
         <view
               id="org.eclipse.ui.views.PropertySheet"
               relationship="stack"
               relative="de.rcenvironment.core.Perspective.bottom">
         </view>
	  </perspectiveExtension>
   </extension>
   
	<!-- Workflow List View -->
	<extension point="org.eclipse.ui.views">
		<view  
			allowMultiple="false"
			category="de.rcenvironment.core"
			name="Workflow List"
			icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/workflow16.gif" 
			class="de.rcenvironment.core.gui.workflow.view.list.WorkflowListView"
			id="de.rcenvironment.gui.workflowList"/>
	</extension>
	
    <extension point="org.eclipse.ui.perspectiveExtensions">
		<perspectiveExtension targetID="de.rcenvironment.core">
			<view id="de.rcenvironment.gui.workflowList" relationship="stack"
				relative="de.rcenvironment.core.Perspective.bottom">
			</view>
		</perspectiveExtension>
	</extension>

	<!-- Workflow Console View -->
	<extension point="org.eclipse.ui.views">
		<view  
			allowMultiple="false"
			category="de.rcenvironment.core"
			name="Workflow Console"
			icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/console.gif" 
			class="de.rcenvironment.core.gui.workflow.view.console.ConsoleView"
			id="de.rcenvironment.gui.WorkflowComponentConsole"/>
	</extension>
	
    <extension point="org.eclipse.ui.perspectiveExtensions">
		<perspectiveExtension targetID="de.rcenvironment.core">
			<view id="de.rcenvironment.gui.WorkflowComponentConsole" relationship="stack"
				relative="de.rcenvironment.core.Perspective.bottom">
			</view>
		</perspectiveExtension>
	</extension>
<!-- Timeline View -->
 	<extension point="org.eclipse.ui.views"> 
 		<view 
 			name="Workflow Timeline" 
 			id="de.rcenvironment.gui.Timeline" 
 			icon="resources/icons/timeline.gif" 
 			class="de.rcenvironment.core.gui.workflow.view.timeline.TimelineView" 
 			category="de.rcenvironment.core" 
 			allowMultiple="true"
 			restorable="false"/> 
 	</extension>
 	<extension point="org.eclipse.ui.perspectiveExtensions"> 
 		<perspectiveExtension targetID="de.rcenvironment.core">
 			<view id="de.rcenvironment.gui.Timeline" 
 			relative="de.rcenvironment.core.Perspective.bottom" 
 			relationship="stack"> 
 		</view> 
 	</perspectiveExtension> 
 </extension>		
   <!-- Runtime View Extension Point -->
   <extension-point 
   		id="de.rcenvironment.core.gui.workflow.monitoring"
   		name="Component Runtime View"
   		schema="resources/de.rcenvironment.core.gui.workflow.monitoring.exsd"/>
   <!-- Context Menu Extension Point -->
   <extension-point
   		id="de.rcenvironment.core.gui.workflow.editorActions"
   		name="Workflow Editor Actions"
   		schema="resources/de.rcenvironment.core.gui.workflow.editorActions.exsd"/>
   <!-- Workflow Node Validators Extension Point -->
   <extension-point
   		id="de.rcenvironment.core.gui.workflow.nodeValidators"
   		name="Workflow Node Validators"
   		schema="resources/de.rcenvironment.core.gui.workflow.nodeValidators.exsd"/>
   <extension
         point="org.eclipse.ui.commands">
      <category
            description="%executeWorkflowCategoryDescription"
            id="de.rcenvironment.core.gui.workflow.execution"
            name="%executeWorkflowCategoryName">
      </category>
      <command
            categoryId="de.rcenvironment.core.gui.workflow.execution"
            description="%executeWorkflowDescription"
            id="de.rcenvironment.core.gui.workflow.execute"
            name="%executeWorkflowName">
      </command>
      <category
            description="%createWorkflowCategoryDescription"
            id="de.rcenvironment.core.gui.workflow.create"
            name="%createWorkflowCategoryName">
      </category>
      <command
            categoryId="de.rcenvironment.core.gui.workflow.create"
            description="%createWorkflowProjectDescription"
            id="de.rcenvironment.core.gui.workflowproject.create"
            name="%createWorkflowProjectName">
      </command>
      <category
            description="%advancedTabCategoryDescription"
            id="de.rcenvironment.core.gui.advancedtab"
            name="%advancedTabCategoryName">
      </category>
      <command
            categoryId="de.rcenvironment.core.gui.advancedtab"
            description="%advancedTabCommandDescription"
            id="de.rcenvironment.core.gui.advanced.show"
            name="%advancedTabCommandName">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.node.disable"
            name="disable">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.node.copy"
            name="copy">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.node.cut"
            name="cut">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.node.paste"
            name="paste">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.node.rename"
            name="rename">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.node.delete"
            name="delete">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.connectioneditor"
            name="connectioneditor">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.configurationFile"
            name="configurationFile">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.configurationInformation"
            name="configurationInformation">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.propertiesview"
            name="properties">
      </command>
      <command
            id="de.rcenvironment.core.gui.workflow.helpview"
            name="help">
      </command>
      <command
            categoryId="de.rcenvironment.core.gui.workflow.integration"
            description="%toolIntegrationDescription"
            id="de.rcenvironment.core.gui.workflow.integration.command"
            name="%toolIntegrationName">
      </command>
      <category
            description="%toolIntegrationDescription"
            id="de.rcenvironment.core.gui.workflow.integration"
            name="%toolIntegrationName ">
      </category>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="de.rcenvironment.core.gui.workflow.execute"
               disableIcon="resources/icons/states/run_disable.gif"
               icon="resources/icons/states/run_enabled.gif"
               label="%executeWorkflowLabel"
               style="push"
               tooltip="%executeWorkflowTooltip">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:window?after=preferences">
 			<menu label="%advancedMenuName">
            <command
                  commandId="de.rcenvironment.core.gui.advanced.show"
                  label="%advancedTabCommandName"
                  style="push">
            </command>
            </menu>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:window?after=preferences">
         <separator
               name="separator"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            locationURI="menu:file?before=new">
            <command
                  commandId="de.rcenvironment.core.gui.workflowproject.create"
                  label="New Workflow"
               	  icon="resources/icons/newWorkflow16.png"
                  style="push">
            </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:file?after=de.rcenvironment.core.gui.workflowproject.create">
         <separator
               name="separator"
               visible="true">
         </separator>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:file?after=de.rcenvironment.core.gui.workflowproject.create">
      <separator name="separator" visible="true" />
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=de.rcenvironment.core.gui.workflowproject.create">
      <separator name="separator" visible="true" />
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?before=import">
         <command
               commandId="de.rcenvironment.core.gui.workflowproject.create" 
               disableIcon="resources/icons/states/failed.gif"
               icon="resources/icons/newWorkflow16.png"
               label="New Workflow"
               style="push"
               tooltip="Create a new Workflow">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:help?before=de.rcenvironment.core.gui.workflow.configurationInformation">
            <command
               commandId="de.rcenvironment.core.gui.workflow.configurationFile"
               icon="platform:/plugin/de.rcenvironment.core.gui.workflow/resources/icons/toolbar/openConfigFile.png"
               label="Open Configuration File"
               style="push">
            </command>
      </menuContribution>
      <menuContribution
            locationURI="menu:help?before=about">
            <command
               commandId="de.rcenvironment.core.gui.workflow.configurationInformation"
               icon="platform:/plugin/de.rcenvironment.core.gui.workflow/resources/icons/toolbar/openConfigInformation.gif"
               label="Open Configuration Information"
               style="push">
            </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:help?after=de.rcenvironment.core.gui.workflow.configurationInformation">
      <separator name="separator" visible="true" />
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor?before=additions">
       <command
               commandId="de.rcenvironment.core.gui.workflow.helpview"
               label="%help"
               icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/help16.gif"
               style="push">
       </command> 
       <separator name="separator" visible="true" />
       <command
               commandId="de.rcenvironment.core.gui.workflow.propertiesview"
               label="%configuration"
               icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/properties16.gif"
               style="push">
       </command>
       <command
               commandId="de.rcenvironment.core.gui.workflow.connectioneditor"
               icon="platform:/plugin/de.rcenvironment.core.gui.workflow/resources/icons/connectEditor16.gif"
               label="%connectioneditor"
               style="push">
       </command>
       <separator name="separator2" visible="true" />
         <command
               commandId="de.rcenvironment.core.gui.workflow.node.copy"
               icon="resources/icons/copy.gif"
               label="%copy"
               style="push">
         </command>
         <command
               commandId="de.rcenvironment.core.gui.workflow.node.cut"
               icon="resources/icons/cut.gif"
               label="%cut"
               style="push">
         </command>
         <command
               commandId="de.rcenvironment.core.gui.workflow.node.paste"
               icon="resources/icons/paste.gif"
               label="%paste"
               style="push">
         </command>
         <command
               commandId="de.rcenvironment.core.gui.workflow.node.rename"
               icon="resources/icons/rename.gif"
               label="%rename"
               style="push">
         </command>
 		 <command
               commandId="de.rcenvironment.core.gui.workflow.node.delete"
               icon="platform:/plugin/de.rcenvironment.core.gui.resources/resources/images/delete16.gif"
               label="%delete"
               style="push">
         </command>
         <separator name="separator2" visible="true" />
         <command
               commandId="de.rcenvironment.core.gui.workflow.node.disable"
               icon="resources/icons/disable.gif"
               label="Set Dis-/Enabled"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar">
         <toolbar
               id="de.rcenvironment.core.gui.workflow.execution.toolbar">
            <command
                  commandId="de.rcenvironment.core.gui.workflowproject.create"
                  icon="resources/icons/newWorkflow16.png"
                  label="%createWorkflowLabel"
                  style="push"
                  tooltip="%createWorkflowTooltip">
            </command>
            <command
                  commandId="de.rcenvironment.core.gui.workflow.connectioneditor"
                  disableIcon="resources/icons/connectEditor16disable.gif"
                  icon="resources/icons/connectEditor16.gif"
                  label="%connectioneditor"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <or>
                     <reference
                           definitionId="workflowSelected">
                     </reference>
                     <reference
                           definitionId="workflowContext">
                     </reference>
                  </or>
               </visibleWhen>
            </command>  
            <separator name="separatorConfig" visible="true" />
            <command
               commandId="de.rcenvironment.core.gui.workflow.configurationFile"
               icon="platform:/plugin/de.rcenvironment.core.gui.workflow/resources/icons/toolbar/openConfigFile.png"
               label="Open Configuration File"
               style="push">
       		</command>
       		<command
               commandId="de.rcenvironment.core.gui.workflow.configurationInformation"
               icon="platform:/plugin/de.rcenvironment.core.gui.workflow/resources/icons/toolbar/openConfigInformation.gif"
               label="Open Configuration Information"
               style="push">
       		</command>
            <separator
                  name="separator"
                  visible="true">
            </separator>
			<command
                  commandId="de.rcenvironment.core.gui.workflow.execute"
                  disableIcon="resources/icons/states/run_disable.gif"
                  icon="resources/icons/states/run_enabled.gif"
                  label="%executeWorkflowLabel"
                  style="push">
               <visibleWhen
                     checkEnabled="false">
                  <or>
                     <reference
                           definitionId="workflowSelected">
                     </reference>
                     <reference
                           definitionId="workflowContext">
                     </reference>
                  </or>
               </visibleWhen>
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="de.rcenvironment.core.gui.workflow.execute.ShowWorkflowExecutionWizardHandler"
            commandId="de.rcenvironment.core.gui.workflow.execute">
         <enabledWhen>
            <reference
                  definitionId="workflowSelected">
            </reference>
         </enabledWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.ShowNewWorkflowProjectWizardHandler"
            commandId="de.rcenvironment.core.gui.workflowproject.create">
      </handler>
            <handler
            class="de.rcenvironment.core.gui.workflow.AdvancedTabVisibilityHandler"
            commandId="de.rcenvironment.core.gui.advanced.show">
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.WorkflowNodeDisEnableHandler"
            commandId="de.rcenvironment.core.gui.workflow.node.disable">
         <enabledWhen>
            <reference
                  definitionId="workflowNodesSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.WorkflowNodeCopyHandler"
            commandId="de.rcenvironment.core.gui.workflow.node.copy">
         <enabledWhen>
            <reference
                  definitionId="workflowNodesSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.WorkflowPartsCutHandler"
            commandId="de.rcenvironment.core.gui.workflow.node.cut">
         <enabledWhen>
            <reference
                  definitionId="workflowNodesSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.WorkflowNodePasteHandler"
            commandId="de.rcenvironment.core.gui.workflow.node.paste">
         <enabledWhen>
            <reference
                  definitionId="workflowEditorContext">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.WorkflowNodeRenameHandler"
            commandId="de.rcenvironment.core.gui.workflow.node.rename">
         <enabledWhen>
            <reference
                  definitionId="workflowNodeSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.WorkflowNodeDeleteHandler"
           	commandId="de.rcenvironment.core.gui.workflow.node.delete">
         <enabledWhen>
            <reference
                  definitionId="workflowNodesSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.OpenPropertiesViewHandler"
            commandId="de.rcenvironment.core.gui.workflow.propertiesview">
         <enabledWhen>
            <reference
                  definitionId="workflowNodeSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
            <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.OpenHelpViewHandler"
            commandId="de.rcenvironment.core.gui.workflow.helpview">
         <enabledWhen>
            <reference
                  definitionId="workflowNodeSelected">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowNodeContext">
            </reference>
         </visibleWhen>
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.OpenConnectionsViewHandler"
            commandId="de.rcenvironment.core.gui.workflow.connectioneditor">
         <enabledWhen>
            <reference
                  definitionId="workflowEditorContext">
            </reference>
         </enabledWhen>
         <visibleWhen>
            <reference
                  definitionId="workflowEditorContext">
            </reference>
         </visibleWhen>
      </handler>
            <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.OpenConfigurationFileHandler"
            commandId="de.rcenvironment.core.gui.workflow.configurationFile">
      </handler>
      <handler
            class="de.rcenvironment.core.gui.workflow.editor.handlers.OpenConfigurationInformationDialogHandler"
            commandId="de.rcenvironment.core.gui.workflow.configurationInformation">
      </handler>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="workflowSelected">
	       <or>
	            <with
	                  variable="activeEditorId">
	               <equals
	                     value="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
	               </equals>
	            </with>
             <and>
                <with
                      variable="selection">
                   <iterate
                         ifEmpty="false">
                      <instanceof
                            value="org.eclipse.core.resources.IFile">
                      </instanceof>
                      <test
                            property="org.eclipse.core.resources.extension"
                            value="wf">
                      </test>
                   </iterate>
                </with>
                <with
                      variable="selection">
                   <count
                         value="1">
                   </count>
                </with>
             </and>
	       </or>
      </definition>
      <definition
            id="workflowContext">
         <or>
             <with
                   variable="activeEditorId">
                 <equals value="de.rcenvironment.core.gui.workflow.editor.WorkflowRunEditor">
                </equals>
             </with>
          <with
                variable="selection">
             <iterate
                   ifEmpty="false"
                   operator="or">
                <instanceof
                      value="de.rcenvironment.core.component.workflow.WorkflowInformation">
                </instanceof>
             </iterate>
          </with>
         </or>
      </definition>
      <definition
            id="workflowEditorContext">
         <with
               variable="activePartId">
             <equals value="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
            </equals>
         </with>
      </definition>
      <definition
            id="workflowNodesSelected">
        <and>
			<with
	            variable="selection"> 
	        <iterate
	        	operator="or">
	        	<or>
	        	    <and>
	            <instanceof
	            	value="de.rcenvironment.core.gui.workflow.parts.WorkflowNodePart">
	            </instanceof>
	               </and>
	               <and>
	             <instanceof
	            	value="de.rcenvironment.core.gui.workflow.parts.WorkflowLabelPart">
	            </instanceof>
	            </and>
	            </or>
			</iterate>
			</with>
			<with
	        	variable="selection">
	            <count
	            	value="*">
	            </count>
			</with>
			<with
              	variable="activeEditorId">
	               <equals
	                     value="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
	               </equals>
            </with>
        </and>
      </definition>
      <definition
            id="workflowNodeSelected">
        <and>
			<with
	            variable="selection"> 
	        <iterate
	        	operator="or">
	        	<or>
	        	    <and>
	            <instanceof
	            	value="de.rcenvironment.core.gui.workflow.parts.WorkflowNodePart">
	            </instanceof>
	               </and>
	               <and>
	             <instanceof
	            	value="de.rcenvironment.core.gui.workflow.parts.WorkflowLabelPart">
	            </instanceof>
	            </and>
	            </or>
			</iterate>
			</with>
			<with
	        	variable="selection">
	            <count
	            	value="1">
	            </count>
			</with>
			<with
              	variable="activeEditorId">
	               <equals
	                     value="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
	               </equals>
            </with>
        </and>
      </definition>
      <definition
            id="workflowNodeContext">
			<with
              	variable="activeEditorId">
	               <equals
	                     value="de.rcenvironment.rce.gui.workflow.editor.WorkflowEditor">
	               </equals>
            </with>
      </definition>
   </extension>
   <extension
         id="de.rcenvironment.core.gui.workflow.keybinding.execute"
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.rcenvironment.core.gui.workflow.execute"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+X">
      </key>
   </extension>
   <extension
         id="de.rcenvironment.core.gui.workflow.keybinding.execute"
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.rcenvironment.core.gui.workflowproject.create"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+N">
      </key>
   </extension>
   <extension
         id="de.rcenvironment.core.gui.workflow.keybinding.workflow.node.edit"
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.rcenvironment.core.gui.workflow.node.disable"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+D">
      </key>
      <key
            commandId="de.rcenvironment.core.gui.workflow.node.copy"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+C">
      </key>
      <key
            commandId="de.rcenvironment.core.gui.workflow.node.cut"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+X">
      </key>
      <key
            commandId="de.rcenvironment.core.gui.workflow.node.paste"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+V">
      </key>
     <!-- <key
            commandId="de.rcenvironment.core.gui.workflow.node.delete"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="DEL">
      </key>
      -->
      <key
            commandId="de.rcenvironment.core.gui.workflow.node.rename"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="de.rcenvironment.rce.gui.workflow.editor.scope"
            sequence="F2">
      </key>
      <key
            commandId="de.rcenvironment.core.gui.workflow.propertiesview"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M1+M2+Q">
      </key>
   </extension>
   <extension
         id="de.rcenvironment.core.gui.workflow.keybinding.workflow.edit"
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.rcenvironment.core.gui.workflow.connectioneditor"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M3+C">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.activities">
      <activity
            id="de.rcenvironment.core.gui.workflow.deleteExternalToolButton"
            name="Delete external tool button">
      </activity>
      <activityPatternBinding
            activityId="de.rcenvironment.core.gui.workflow.deleteExternalToolButton"
            isEqualityPattern="true"
            pattern="org.eclipse.ui.externaltools.ExternalToolMenuDelegateToolbar">
      </activityPatternBinding>
   </extension>
   <extension
   		point="org.eclipse.ui.contexts">
   		<context
   			id="de.rcenvironment.rce.gui.workflow.editor.scope"
   			name="Workflow Editor Context"
   			parentId="org.eclipse.ui.contexts.window">
   		</context>
   </extension>
</plugin>
